From 3928606d69ac236eb17893df41207d71726613ac Mon Sep 17 00:00:00 2001
From: chalesyu <574249312@qq.com>
Date: Wed, 4 Aug 2021 00:00:00 +0800
Subject: [PATCH] support for t2plus board lpddr3

---
 arch/arm/dts/sun8i-h3-beelink-x2.dts | 2 +-
 configs/beelink_x2_defconfig         | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/arch/arm/dts/sun8i-h3-beelink-x2.dts b/arch/arm/dts/sun8i-h3-beelink-x2.dts
index 45a24441ff..26aea17d33 100644
--- a/arch/arm/dts/sun8i-h3-beelink-x2.dts
+++ b/arch/arm/dts/sun8i-h3-beelink-x2.dts
@@ -192,7 +192,7 @@
 };
 
 &reg_usb0_vbus {
-	gpio = <&r_pio 0 2 GPIO_ACTIVE_HIGH>; /* PL2 */
+	gpio = <&r_pio 0 2 GPIO_ACTIVE_HIGH>; /* PL2 */
+	regulator-always-on;
 	status = "okay";
 };
 
diff --git a/configs/beelink_x2_defconfig b/configs/beelink_x2_defconfig
index 9eeb930729..3511f23e92 100644
--- a/configs/beelink_x2_defconfig
+++ b/configs/beelink_x2_defconfig
@@ -2,9 +2,10 @@ CONFIG_ARM=y
 CONFIG_ARCH_SUNXI=y
 CONFIG_SPL=y
 CONFIG_MACH_SUN8I_H3=y
+CONFIG_SUNXI_DRAM_LPDDR3=y
+CONFIG_SUNXI_DRAM_LPDDR3_STOCK=y
 CONFIG_DRAM_CLK=567
 CONFIG_MMC_SUNXI_SLOT_EXTRA=2
 CONFIG_DEFAULT_DEVICE_TREE="sun8i-h3-beelink-x2"
 # CONFIG_SYS_MALLOC_CLEAR_ON_INIT is not set
 CONFIG_SUN8I_EMAC=y
-CONFIG_USB_EHCI_HCD=y
-- 


